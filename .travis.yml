---

dist: "xenial"
language: "minimal"

service:
  - "docker"

install:
  - >-
      make
      docker-build-lint-dockerfile
      docker-build-lint-go
      docker-build-lint-markdown
      docker-build-lint-sh
      docker-build-lint-yaml
      docker-build-test-go
      docker-build-test-go-deps
      -j 2

script:
  - "make test-all"
  - "make lint-all -j 2"

after_success:
  - >-
      make docker-publish-cover
      DOCKER_RUN_ARGS="
      --report ./build/cover/coverage.out
      --token $CODACY_TOKEN
      --commit $TRAVIS_COMMIT"

...
